import { getAddress } from "ethers/src.ts/address";
import { Signature } from "ethers/src.ts/crypto";
import { getBigInt } from "ethers/src.ts/utils";

import type { Authorization, AuthorizationLike } from "ethers/src.ts/transaction";

export function authorizationify(auth: AuthorizationLike): Authorization {
    return {
        address: getAddress(auth.address),
        nonce: getBigInt((auth.nonce != null) ? auth.nonce: 0),
        chainId: getBigInt((auth.chainId != null)? auth.chainId: 0),
        signature: Signature.from(auth.signature)
    };
}
